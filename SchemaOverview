<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pietersite Jewels Contributor Toolkit</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles to reflect the 'storm' and 'luxury' brand identity */
        body {
            font-family: 'Inter', sans-serif;
        }
        .text-pietersite-title {
            font-family: Georgia, 'Times New Roman', Times, serif; /* Luxury Serif fallback */
            color: #FFD700; /* Gold */
        }
        .bg-storm {
            background-color: #0d1a26; /* Deep Midnight Blue/Black */
        }
        .border-gold {
            border-color: #DAA520; /* Darker Gold for borders */
        }
        .glow-gold {
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }
        .btn-primary {
            background-color: #2a6f95; /* Deep Blue Accent */
            transition: all 0.2s ease;
        }
        .btn-primary:hover {
            background-color: #3b82f6;
            box-shadow: 0 4px 15px rgba(42, 111, 149, 0.4);
        }
    </style>
</head>
<body class="bg-storm min-h-screen text-gray-100 p-4 sm:p-6 md:p-10">

    <!-- Tailwind Config for Inter Font -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Georgia', 'Times New Roman', 'Times', 'serif'],
                    },
                    colors: {
                        'pietersite-blue': '#2a6f95',
                        'pietersite-gold': '#FFD700',
                    }
                }
            }
        }
    </script>

    <!-- Header & Quick-Create Button -->
    <header class="flex justify-between items-center mb-8 pb-4 border-b border-gray-700">
        <h1 class="text-3xl sm:text-4xl font-serif text-pietersite-gold tracking-wider">
            Pietersite Contributor Hub
        </h1>
        <button id="openModalBtn" class="btn-primary text-sm font-semibold py-2 px-4 rounded-lg shadow-lg hover:glow-gold">
            + Quick-Create Pin
        </button>
    </header>

    <!-- Main Content: Schema Registry Mockup -->
    <main class="flex flex-col md:flex-row gap-8">
        
        <!-- Sidebar: Entities -->
        <aside class="w-full md:w-1/4 bg-gray-800 p-4 rounded-xl shadow-xl h-fit">
            <h2 class="text-xl font-bold mb-4 border-b pb-2 border-gray-600">üîñ Entity Schemas</h2>
            <nav>
                <a href="#" class="block p-3 mb-2 bg-pietersite-blue rounded-lg font-semibold hover:bg-pietersite-blue/80 transition duration-150">
                    PinterestMediaKit
                </a>
                <a href="#" class="block p-3 mb-2 rounded-lg text-gray-400 hover:text-gray-100 hover:bg-gray-700 transition duration-150">
                    BrandIdentity
                </a>
                <a href="#" class="block p-3 mb-2 rounded-lg text-gray-400 hover:text-gray-100 hover:bg-gray-700 transition duration-150">
                    LoreBlock
                </a>
            </nav>
        </aside>

        <!-- Main Panel: Schema Viewer -->
        <section class="w-full md:w-3/4 bg-gray-800 p-6 rounded-xl shadow-xl">
            <h2 class="text-2xl font-bold mb-4 text-pietersite-gold border-b pb-2 border-gray-600">
                Entity: PinterestMediaKit
            </h2>

            <!-- Tabs -->
            <div class="flex border-b border-gray-700 mb-6">
                <button class="py-2 px-4 border-b-2 border-pietersite-gold font-semibold text-pietersite-gold">
                    üìÑ Schema Viewer
                </button>
                <button class="py-2 px-4 text-gray-400 hover:text-gray-200">
                    üß™ Validation Tab
                </button>
                <button class="py-2 px-4 text-gray-400 hover:text-gray-200">
                    üîå Integration Tab
                </button>
            </div>

            <!-- Content -->
            <div class="space-y-4">
                <div class="bg-gray-700 p-4 rounded-lg text-sm">
                    <p><span class="text-pietersite-gold font-mono">"status":</span> <span class="text-green-400 font-mono">"‚úÖ Validated"</span>,</p>
                    <p><span class="text-pietersite-gold font-mono">"version":</span> <span class="text-white font-mono">"1.0.2"</span>,</p>
                    <p><span class="text-pietersite-gold font-mono">"relationships":</span> <span class="text-white font-mono">["BrandIdentity", "LoreBlock"]</span></p>
                </div>

                <div class="bg-gray-700 p-4 rounded-lg">
                    <h3 class="text-lg font-semibold mb-2 text-pietersite-gold">Fields</h3>
                    <div class="overflow-x-auto">
                        <table class="w-full text-left text-sm">
                            <thead class="text-xs uppercase bg-gray-600">
                                <tr>
                                    <th scope="col" class="px-3 py-2 rounded-tl-lg">Field</th>
                                    <th scope="col" class="px-3 py-2">Type</th>
                                    <th scope="col" class="px-3 py-2">Required</th>
                                    <th scope="col" class="px-3 py-2 rounded-tr-lg">Linked Schema</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b border-gray-600">
                                    <td class="px-3 py-3 font-medium whitespace-nowrap">headline</td>
                                    <td class="px-3 py-3">string (max 100)</td>
                                    <td class="px-3 py-3 text-green-400">Yes</td>
                                    <td class="px-3 py-3">SmartCaptionGenerator</td>
                                </tr>
                                <tr class="border-b border-gray-600">
                                    <td class="px-3 py-3 font-medium whitespace-nowrap">call_to_action</td>
                                    <td class="px-3 py-3">enum (3 options)</td>
                                    <td class="px-3 py-3 text-green-400">Yes</td>
                                    <td class="px-3 py-3">--</td>
                                </tr>
                                <tr class="border-b border-gray-600">
                                    <td class="px-3 py-3 font-medium whitespace-nowrap">linked_gemstone_id</td>
                                    <td class="px-3 py-3">string (FK)</td>
                                    <td class="px-3 py-3 text-red-400">No</td>
                                    <td class="px-3 py-3">LoreBlock</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal for Quick-Create Pinterest Pin -->
    <div id="quickCreateModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden" onclick="closeModal(event)">
        <div class="bg-gray-800 w-full max-w-lg p-6 rounded-2xl shadow-2xl border border-pietersite-gold/50" onclick="event.stopPropagation()">
            
            <header class="flex justify-between items-center border-b pb-3 mb-4 border-gray-700">
                <h2 class="text-2xl font-serif text-pietersite-gold">
                    Quick-Create: Pinterest Pin
                </h2>
                <span id="modalStepIndicator" class="text-sm bg-pietersite-blue px-3 py-1 rounded-full">Step 1/6</span>
            </header>
            
            <!-- Modal Body - Content will swap based on step -->
            <div id="modalContent" class="space-y-4 h-96 overflow-y-auto pr-2">
                <!-- Step 1 Content (Initial state) -->
            </div>

            <!-- Modal Footer -->
            <footer class="flex justify-between items-center pt-4 border-t border-gray-700 mt-4">
                <button id="backBtn" class="text-gray-400 hover:text-pietersite-gold transition hidden py-2 px-4 rounded-lg">‚Üê Back</button>
                <button id="nextBtn" class="btn-primary py-2 px-6 rounded-lg font-semibold shadow-md">Next Step ‚Üí</button>
                <button id="exportBtn" class="btn-primary py-2 px-6 rounded-lg font-semibold shadow-md hidden">Finalize & Export</button>
            </footer>
        </div>
    </div>

    <script>
        // Global state for the modal
        let currentStep = 1;
        const maxSteps = 6;

        // DOM elements
        const modal = document.getElementById('quickCreateModal');
        const modalContent = document.getElementById('modalContent');
        const stepIndicator = document.getElementById('modalStepIndicator');
        const nextBtn = document.getElementById('nextBtn');
        const backBtn = document.getElementById('backBtn');
        const exportBtn = document.getElementById('exportBtn');
        const openModalBtn = document.getElementById('openModalBtn');

        // --- Step Definitions ---
        const steps = [
            { 
                title: "1Ô∏è‚É£ Choose Template", 
                content: `
                    <label class="block text-gray-300 font-semibold mb-2">Template Style</label>
                    <div class="flex space-x-4">
                        <button class="template-btn w-1/3 p-3 text-center border border-pietersite-gold rounded-xl hover:bg-gray-700" data-template="Hero Pin">Hero Pin</button>
                        <button class="template-btn w-1/3 p-3 text-center border border-gray-600 rounded-xl hover:bg-gray-700" data-template="Lore Panel">Lore Panel</button>
                        <button class="template-btn w-1/3 p-3 text-center border border-gray-600 rounded-xl hover:bg-gray-700" data-template="Carousel">Carousel</button>
                    </div>
                ` 
            },
            { 
                title: "2Ô∏è‚É£ Upload Visual", 
                content: `
                    <label class="block text-gray-300 font-semibold mb-2">Upload Visual Asset</label>
                    <input type="file" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-pietersite-blue file:text-white hover:file:bg-pietersite-blue/80"/>
                    <div class="mt-4 flex items-center space-x-3">
                        <input type="checkbox" id="watermarkToggle" class="form-checkbox h-5 w-5 text-pietersite-gold bg-gray-700 border-gray-600 rounded"/>
                        <label for="watermarkToggle" class="text-sm text-gray-400">Toggle **Watermark** (BrandIdentity.watermark)</label>
                    </div>
                ` 
            },
            { 
                title: "3Ô∏è‚É£ Add Headline & Gemstone", 
                content: `
                    <label for="gemstone" class="block text-gray-300 font-semibold mb-2">Featured Gemstone</label>
                    <select id="gemstone" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white mb-4">
                        <option>Pietersite</option>
                        <option>Storm Quartz</option>
                        <option>Tigereye (Lore-Link)</option>
                    </select>

                    <label for="headlineInput" class="block text-gray-300 font-semibold mb-2">Headline (Gold Serif)</label>
                    <input type="text" id="headlineInput" value="Gemstones of Storm & Spirit" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-pietersite-gold font-serif text-xl"/>
                    <p class="text-xs text-green-400 mt-2">‚ú® Smart Suggestion Applied: Based on Gemstone & Template.</p>
                ` 
            },
            { 
                title: "4Ô∏è‚É£ Add CTA & Caption", 
                content: `
                    <label for="caption" class="block text-gray-300 font-semibold mb-2">Caption (Smart Generator)</label>
                    <textarea id="caption" rows="3" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white">A piece crafted for clarity and inner reflection. Charged with the tempest's elemental energy, it guides your transformation.</textarea>
                    
                    <label for="cta" class="block text-gray-300 font-semibold mb-2 mt-4">Call to Action (CTA)</label>
                    <select id="cta" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white">
                        <option>Explore the Collection</option>
                        <option>Shop Now</option>
                        <option>Read the Lore</option>
                    </select>
                ` 
            },
            { 
                title: "5Ô∏è‚É£ Background & Effects", 
                content: `
                    <label class="block text-gray-300 font-semibold mb-2">Background Style (BrandIdentity.texture)</label>
                    <div class="flex space-x-4">
                        <button class="bg-style-btn w-1/3 p-3 text-center bg-gray-900 border border-pietersite-gold rounded-xl text-xs">Deep Black</button>
                        <button class="bg-style-btn w-1/3 p-3 text-center bg-blue-900 border border-gray-600 rounded-xl text-xs">Marbled Blue</button>
                        <button class="bg-style-btn w-1/3 p-3 text-center bg-gray-500 border border-gray-600 rounded-xl text-xs">Storm Texture</button>
                    </div>

                    <div class="mt-6 flex items-center space-x-3">
                        <input type="checkbox" id="motionCue" class="form-checkbox h-5 w-5 text-pietersite-gold bg-gray-700 border-gray-600 rounded"/>
                        <label for="motionCue" class="text-sm text-gray-400">Toggle **Shimmer/Motion Cues**</label>
                    </div>
                ` 
            },
            { 
                title: "6Ô∏è‚É£ Finalize & Export", 
                content: `
                    <div class="p-6 bg-gray-700 rounded-xl text-center">
                        <h3 class="text-xl font-bold text-pietersite-gold mb-3">Preview Ready</h3>
                        <p class="text-sm text-gray-300 mb-4">The Pin has passed all styling and schema validation checks (Headline length, CTA required, Watermark set).</p>
                        <div class="h-40 bg-gray-600 flex items-center justify-center rounded-lg border-2 border-pietersite-gold/50">
                            <p class="text-lg text-gray-100">Visual Preview Here</p>
                        </div>
                    </div>
                    <p class="text-sm text-center text-gray-400 mt-4">Click "Finalize & Export" to save the PNG and push data to the Pinterest API.</p>
                ` 
            }
        ];

        // --- Modal Control Functions ---

        function updateModalUI() {
            // Update indicator
            stepIndicator.textContent = `Step ${currentStep}/${maxSteps}`;
            
            // Update content
            const currentStepData = steps[currentStep - 1];
            // Update modal title (using the span indicator for the number)
            const header = document.querySelector('#quickCreateModal h2');
            header.innerHTML = `Quick-Create: Pinterest Pin`;

            // Inject the new content
            modalContent.innerHTML = `
                <h3 class="text-xl font-bold mb-3 text-white">${currentStepData.title}</h3>
                <div class="p-4 bg-gray-700 rounded-lg">${currentStepData.content}</div>
            `;
            
            // Button visibility
            backBtn.classList.toggle('hidden', currentStep === 1);
            nextBtn.classList.toggle('hidden', currentStep === maxSteps);
            exportBtn.classList.toggle('hidden', currentStep !== maxSteps);

            // Re-attach event listeners for dynamic buttons inside the content
            if (currentStep === 1) {
                document.querySelectorAll('.template-btn').forEach(btn => {
                    btn.addEventListener('click', () => selectTemplate(btn));
                });
            }
        }

        function selectTemplate(selectedBtn) {
            document.querySelectorAll('.template-btn').forEach(btn => {
                btn.classList.remove('border-pietersite-gold', 'bg-gray-700');
                btn.classList.add('border-gray-600');
            });
            selectedBtn.classList.add('border-pietersite-gold', 'bg-gray-700');
        }

        function nextStep() {
            if (currentStep < maxSteps) {
                currentStep++;
                updateModalUI();
            }
        }

        function backStep() {
            if (currentStep > 1) {
                currentStep--;
                updateModalUI();
            }
        }

        function finalizeExport() {
            // In a real application, this would trigger API calls.
            // Here, we just close the modal and show a confirmation.
            closeModal();
            showMessage("‚úÖ Pin creation finalized and exported!", "text-green-400");
        }

        function showMessage(msg, colorClass) {
            const messageBox = document.createElement('div');
            messageBox.className = `fixed top-4 right-4 p-4 rounded-xl shadow-lg bg-gray-800 ${colorClass} transition-opacity duration-300 z-50`;
            messageBox.textContent = msg;
            document.body.appendChild(messageBox);
            setTimeout(() => {
                messageBox.classList.add('opacity-0');
                setTimeout(() => messageBox.remove(), 300);
            }, 3000);
        }

        function openModal() {
            currentStep = 1;
            updateModalUI();
            modal.classList.remove('hidden');
        }

        function closeModal(event) {
            if (event && event.target !== modal) return;
            modal.classList.add('hidden');
        }

        // --- Event Listeners ---
        openModalBtn.addEventListener('click', openModal);
        nextBtn.addEventListener('click', nextStep);
        backBtn.addEventListener('click', backStep);
        exportBtn.addEventListener('click', finalizeExport);
    </script>

</body>
</html>
